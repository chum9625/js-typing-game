<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScriptで簡単なタイピングゲームを作る</title>
  <link rel="stylesheet" href="reset.css">
  <link rel="stylesheet" href="style.css">
</head>
<body><div class="text-container">

  <div class="question">
    <span id="entered" class="marker"></span>
    <span id="remained">JavaScript</span>
  </div>
  <input type="text" class="text" id="inputText">

</div>

<script>
  'use strict';

  const questions = [
    'JavaScript',
    'document',
    'window',
    'getElementById',
    'getElementByClassName',
    'addEventListener'
  ];
  const entered = document.getElementById('entered');
  const remained = document.getElementById('remained');
  const inputText = document.getElementById('inputText');

  let remainedTextWords = remained.textContent.split('');
  let enteredTextWords = [];
  console.log(remainedTextWords);

  document.addEventListener('input', (e) => {
    if(remainedTextWords[0] === e.data) {

      // 入力済み文字の配列の最後に1文字追加
      enteredTextWords.push( remainedTextWords[0] );
      // 未入力文字の配列の先頭から1文字削除
      remainedTextWords.shift();

      console.log(enteredTextWords);
      console.log(remainedTextWords);

      // 入力済みテキスト＆み入力テキストを連結して画面表示
      entered.textContent = enteredTextWords.join('');
      remained.textContent = remainedTextWords.join('');

      // 全ての文字が正しく入力されたら新しい問題文をセット
      if(remainedTextWords.length <= 0){
        console.log('クリア！全ての文字が入力されました');
        setQuestion();
      }

    } else {
      console.log('不正解');
    }
  });

</script>
</body>
</html>
